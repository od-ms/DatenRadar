<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="generator" content="Observable Framework v1.13.0">
<title>Eneuerbare Energien | DatenRadar Muenster</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="preload" as="style" href="./_observablehq/theme-air,near-midnight,alt,wide.db1cdf55.css">
<link rel="preload" as="style" href="./_observablehq/stdlib/inputs.ea9fd553.css">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="stylesheet" type="text/css" href="./_observablehq/theme-air,near-midnight,alt,wide.db1cdf55.css">
<link rel="stylesheet" type="text/css" href="./_observablehq/stdlib/inputs.ea9fd553.css">
<link rel="modulepreload" href="./_observablehq/client.a78bc588.js">
<link rel="modulepreload" href="./_observablehq/runtime.9393ab6d.js">
<link rel="modulepreload" href="./_observablehq/stdlib.3ac83553.js">
<link rel="modulepreload" href="./_npm/d3@7.9.0/7055d4c5.js">
<link rel="modulepreload" href="./_npm/htl@0.3.1/063eb405.js">
<link rel="modulepreload" href="./_observablehq/stdlib/inputs.3e4c82b9.js">
<link rel="modulepreload" href="./_npm/@observablehq/plot@0.6.16/e828d8c8.js">
<link rel="modulepreload" href="./_npm/d3-dsv@3.0.1/407f7a1f.js">
<link rel="modulepreload" href="./_npm/isoformat@0.2.1/c68fbd73.js">
<link rel="modulepreload" href="./_npm/d3-array@3.2.4/e95f898e.js">
<link rel="modulepreload" href="./_npm/d3-axis@3.0.0/d44feff9.js">
<link rel="modulepreload" href="./_npm/d3-brush@3.0.0/5830b12a.js">
<link rel="modulepreload" href="./_npm/d3-chord@3.0.1/84d7b8e9.js">
<link rel="modulepreload" href="./_npm/d3-color@3.1.0/2c0cdfa2.js">
<link rel="modulepreload" href="./_npm/d3-contour@4.0.2/626bedc4.js">
<link rel="modulepreload" href="./_npm/d3-delaunay@6.0.4/00c41b5d.js">
<link rel="modulepreload" href="./_npm/d3-dispatch@3.0.1/b5f7cdc6.js">
<link rel="modulepreload" href="./_npm/d3-drag@3.0.0/b22c5864.js">
<link rel="modulepreload" href="./_npm/d3-ease@3.0.1/6f15f633.js">
<link rel="modulepreload" href="./_npm/d3-fetch@3.0.1/ef1ec490.js">
<link rel="modulepreload" href="./_npm/d3-force@3.0.0/5e1ff060.js">
<link rel="modulepreload" href="./_npm/d3-format@3.1.0/5851d7ef.js">
<link rel="modulepreload" href="./_npm/d3-geo@3.1.1/dcd02767.js">
<link rel="modulepreload" href="./_npm/d3-hierarchy@3.1.2/f1db2593.js">
<link rel="modulepreload" href="./_npm/d3-interpolate@3.0.1/034b7bcb.js">
<link rel="modulepreload" href="./_npm/d3-path@3.1.0/4bb53638.js">
<link rel="modulepreload" href="./_npm/d3-polygon@3.0.1/bbafde58.js">
<link rel="modulepreload" href="./_npm/d3-quadtree@3.0.1/aa5b35a8.js">
<link rel="modulepreload" href="./_npm/d3-random@3.0.1/32c7fec2.js">
<link rel="modulepreload" href="./_npm/d3-scale@4.0.2/567840a0.js">
<link rel="modulepreload" href="./_npm/d3-scale-chromatic@3.1.0/cf9b720b.js">
<link rel="modulepreload" href="./_npm/d3-selection@3.0.0/5dcd62f4.js">
<link rel="modulepreload" href="./_npm/d3-shape@3.2.0/f8e03c56.js">
<link rel="modulepreload" href="./_npm/d3-time@3.1.0/5bc129e1.js">
<link rel="modulepreload" href="./_npm/d3-time-format@4.1.0/19c92b44.js">
<link rel="modulepreload" href="./_npm/d3-timer@3.0.1/f31b5398.js">
<link rel="modulepreload" href="./_npm/d3-transition@3.0.1/8debb4ba.js">
<link rel="modulepreload" href="./_npm/d3-zoom@3.0.0/4b0cc581.js">
<link rel="modulepreload" href="./_npm/interval-tree-1d@1.0.4/a62ae5ce.js">
<link rel="modulepreload" href="./_npm/internmap@2.0.3/5eed35fd.js">
<link rel="modulepreload" href="./_npm/delaunator@5.0.1/e67acb27.js">
<link rel="modulepreload" href="./_npm/binary-search-bounds@2.0.5/1ee6c50d.js">
<link rel="modulepreload" href="./_npm/robust-predicates@3.0.2/8ac9039b.js">
<link rel="icon" href="./_file/observable.1af93621.png" type="image/png" sizes="32x32">
<script type="module">

import {define} from "./_observablehq/client.a78bc588.js";
import {registerFile} from "./_observablehq/stdlib.3ac83553.js";

registerFile("./data/erneuerbare-energien-muenster.csv", {"name":"./data/erneuerbare-energien-muenster.csv","mimeType":"text/csv","path":"./_file/data/erneuerbare-energien-muenster.572017da.csv","lastModified":1732199028353,"size":1873366});

define({id: "9da50f98", inputs: ["FileAttachment"], outputs: ["facilities"], body: (FileAttachment) => {
const facilities = FileAttachment("./data/erneuerbare-energien-muenster.csv").csv({typed: true});
return {facilities};
}});

define({id: "ba96a6a9", inputs: ["Plot","d3","facilities"], outputs: ["color"], body: (Plot,d3,facilities) => {
// Prepare colors for PLZ Gebiete
const color = Plot.scale({
  color: {
    type: "categorical",
    domain: d3.groupSort(facilities, (D) => -D.length, (d) => d.Plz),
    unknown: "var(--theme-foreground-muted)"
  }
});
return {color};
}});

define({id: "b1cdd64d", mode: "inline", inputs: ["facilities","display"], body: async (facilities,display) => {
display(await(
facilities.length.toLocaleString("de-DE")
))
}});

define({id: "ff1d07fd", mode: "inline", inputs: ["facilities","display"], body: async (facilities,display) => {
display(await(
facilities.filter((d) => d.EnergietraegerName === "Solare Strahlungsenergie").length.toLocaleString("de-DE")
))
}});

define({id: "107c7972", inputs: ["Plot","color"], outputs: ["timelineOfInstallations"], body: (Plot,color) => {
function timelineOfInstallations(data, {width} = {}) {
  return Plot.plot({
    title: "Anzahl pro Jahr installierter Anlagen",
    width,
    height: 300,
    y: {grid: true, label: "Launches"},
    color: {...color, legend: true},
    marks: [
      Plot.rectY(data, Plot.binX({y: "count"}, {x: "InbetriebnahmeDatum", fill: "Plz", interval: "year", tip: true})),
      Plot.ruleY([0])
    ]
  });
}
return {timelineOfInstallations};
}});

define({id: "a4ce61e4", mode: "inline", inputs: ["resize","timelineOfInstallations","facilities","display"], body: async (resize,timelineOfInstallations,facilities,display) => {
display(await(
resize((width) => timelineOfInstallations(facilities, {width}))
))
}});

define({id: "5bbcb5f0", mode: "inline", inputs: ["resize","vehicleChart","topfacilities","display"], body: async (resize,vehicleChart,topfacilities,display) => {
display(await(
resize((width) => vehicleChart(topfacilities, "PLZ", "Plz", {width}))
))
}});

define({id: "cfdf0cfb", inputs: ["facilities","d3"], outputs: ["only_business","grouped","sorted","toplist","top_names"], body: (facilities,d3) => {
// Generate a list of the top Betreibers

const only_business = facilities.filter((d) => d.AnlagenbetreiberName !== "(natürliche Person)");

const grouped = d3.group(only_business, d => d.AnlagenbetreiberMaStRNummer);

//display(grouped);

const sorted = d3.reverse(d3.sort(grouped, (a, b) => d3.ascending(a[1].length, b[1].length)))

const toplist = sorted.slice(0,30)
var top_names = toplist.map(function(d){return d[0]})
return {only_business,grouped,sorted,toplist,top_names};
}});

define({id: "13a789de", inputs: ["Plot","color","facilities","top_names"], outputs: ["vehicleChart","topfacilities"], body: (Plot,color,facilities,top_names) => {
function vehicleChart(data, name1, name2, {width}) {

  //data = data.group({x: "count"}, {y: "AnlagenbetreiberName", fill: "Plz", tip: true, sort: {y: "-x"}}).filter((D) => D.Betreiber > 2)

  return Plot.plot({
    width,
    height: 400,
    marginTop: 0,
    marginLeft: 200,
    x: {grid: true, label: name1},
    y: {label: null},
    color: {...color, legend: true},
    marks: [
      Plot.rectX(data,
            Plot.groupY({x: "count"}, {y: name2, fill: "Plz", tip: true, sort: {y: "-x"}})
      ),
      Plot.ruleX([0])
    ]
  });
}



const topfacilities = facilities.filter((d) => top_names.includes(d.AnlagenbetreiberMaStRNummer));

for (let index = 0; index < topfacilities.length; ++index) {
    if (topfacilities[index]["AnlagenbetreiberName"]) {
        topfacilities[index]["AnlagenbetreiberMaStRNummer"] = topfacilities[index]["AnlagenbetreiberName"];
    }
}


return {vehicleChart,topfacilities};
}});

define({id: "effc295b", mode: "inline", inputs: ["resize","vehicleChart","topfacilities","display"], body: async (resize,vehicleChart,topfacilities,display) => {
display(await(
resize((width) => vehicleChart(topfacilities, "Betreiber", "AnlagenbetreiberMaStRNummer", {width}))
))
}});

define({id: "bb34dc61", body: () => {
//display(Inputs.table(topfacilities));

}});

define({id: "6f436a42", inputs: ["d3","facilities","htl","display","Inputs"], outputs: ["muensterfacilities","sparkbar","displayAnlagen"], body: (d3,facilities,htl,display,Inputs) => {
const muensterfacilities = d3.filter(facilities, (d) => (d.AnlagenbetreiberName || "").includes("Stadt Münster"));

function sparkbar(max) {
  return (x) => htl.html`<div style="
    background: var(--theme-green);
    color: black;
    font: 10px/1.6 var(--sans-serif);
    width: ${100 * x / max}%;
    float: right;
    padding-right: 3px;
    box-sizing: border-box;
    overflow: visible;
    display: flex;
    justify-content: end;">${x.toLocaleString("en-US")}`
}
function displayAnlagen(anlagen) {
    display(Inputs.table(anlagen, {
        columns: [
            "AnlagenbetreiberName",
            "Plz",
            "EinheitName",
            "InbetriebnahmeDatum",
            "AnzahlSolarModule",
            "Bruttoleistung",
            "BetriebsStatusName"
        ],
        width: {
            "Plz": 50
        },
        sort: "AnzahlSolarModule",
        reverse: true,
        rows: 30,
        format: {
            "AnzahlSolarModule": sparkbar(Math.min(1000, d3.max(anlagen, d => d.AnzahlSolarModule)))
        }
    }));
}

displayAnlagen(muensterfacilities);

//const stadtwerkefacilites = d3.filter(facilities, (d) => (d.AnlagenbetreiberName || "").includes("Stadtwerke"));
//displayAnlagen(stadtwerkefacilites);


return {muensterfacilities,sparkbar,displayAnlagen};
}});

</script>
</head>
<body>
<input id="observablehq-sidebar-toggle" type="checkbox" title="Toggle sidebar">
<label id="observablehq-sidebar-backdrop" for="observablehq-sidebar-toggle"></label>
<nav id="observablehq-sidebar">
  <ol>
    <label id="observablehq-sidebar-close" for="observablehq-sidebar-toggle"></label>
    <li class="observablehq-link"><a href="./">DatenRadar Muenster</a></li>
  </ol>
  <ol>
    <li class="observablehq-link observablehq-link-active"><a href="./dashboard-eneuerbare-energien.html">Eneuerbare Energien</a></li>
    <li class="observablehq-link"><a href="./dashboard-postleitzahlen.html">Postleitzahlen Karte</a></li>
    <li class="observablehq-link"><a href="./report-beispiel.html">Report Test</a></li>
  </ol>
</nav>
<script>{const e=document.querySelector("#observablehq-sidebar"),t=document.querySelector("#observablehq-sidebar-toggle"),r=sessionStorage.getItem("observablehq-sidebar");r?t.checked=r==="true":t.indeterminate=!0;for(const o of document.querySelectorAll("#observablehq-sidebar summary")){const s=o.parentElement;switch(sessionStorage.getItem(`observablehq-sidebar:${o.textContent}`)){case"true":s.open=!0;break;case"false":s.classList.contains("observablehq-section-active")||(s.open=!1);break}}addEventListener("beforeunload",()=>sessionStorage.setItem("observablehq-sidebar-scrolly",`${e.scrollTop}`));const a=sessionStorage.getItem("observablehq-sidebar-scrolly");a!=null&&(e.style.cssText="overflow: hidden;",e.scrollTop=+a,e.style.cssText="");}</script>
<div id="observablehq-center">
<main id="observablehq-main" class="observablehq">
<h1 id="windraeder-und-photovoltaikanlagen-in-muenster" tabindex="-1"><a class="observablehq-header-anchor" href="#windraeder-und-photovoltaikanlagen-in-muenster">Windräder und Photovoltaikanlagen in Münster</a></h1>
<!-- Load and transform the data -->
<div class="observablehq observablehq--block"><!--:9da50f98:--></div>
<!--
Columns of the CSV files
========================

facilities =
"Id";"AnlagenbetreiberId";"AnlagenbetreiberMaStRNummer";"AnlagenbetreiberName";"BetriebsStatusId";"BetriebsStatusName";"DatumLetzteAktualisierung";"EinheitMeldeDatum";"EinheitName";"InbetriebnahmeDatum";"MaStRNummer";"PersonenArtId";"Typ";"Ort";"Plz";"AnzahlSolarModule";"Bruttoleistung";"EnergietraegerName";"Flurstueck";"IsAnonymisiert";"IsPilotwindanlage";"LokationId";"Nettonennleistung"
9113162;5821904;"ABR948361155505";"(natürliche Person)";35;"In Betrieb";"2024-11-19";"2024-11-19";"Balkonkraftwerk";"2024-11-01";"SEE952076174508";518;1;"Münster";"48163";2;0.8;"Solare Strahlungsenergie";"";True;"";8342795;0.8

launches =
date,state,stateId,family
1957-10-04,Soviet Union,SU,R-7
 -->
<div class="observablehq observablehq--block"><!--:ba96a6a9:--></div>
<p>Als erneuerbare bzw. regenerative Energien werden Energiequellen bezeichnet, die für nachhaltige Energieversorgung praktisch unerschöpflich zur Verfügung stehen. Damit grenzen sie sich von fossilen Energiequellen ab, die endlich sind oder sich erst über den Zeitraum von Millionen Jahren regenerieren.</p>
<p>Erneuerbare Energiequellen gelten als wichtigste Säule einer nachhaltigen Energiepolitik. Hier betrachten wir den Ausbau von Sonnenenergie und Windenergie in Münster.</p>
<!-- Cards with big numbers -->
<div class="grid grid-cols-4">
  <div class="card">
    <h2>Anzahl Anlagen Gesamt</h2>
    <span class="big"><observablehq-loading></observablehq-loading><!--:b1cdd64d:--></span>
  </div>
  <div class="card">
    <h2>Solar <span class="muted">/ Anzahl Anlagen</span></h2>
    <span class="big"><observablehq-loading></observablehq-loading><!--:ff1d07fd:--></span>
  </div>
 <!--
  <div class="card">
    <h2>China 🇨🇳</h2>
    <span class="big">${launches.filter((d) => d.stateId === "CN").length.toLocaleString("en-US")}</span>
  </div>
  <div class="card">
    <h2>Other</h2>
    <span class="big">${launches.filter((d) => d.stateId !== "US" && d.stateId !== "SU" && d.stateId !== "RU" && d.stateId !== "CN").length.toLocaleString("en-US")}</span>
  </div>
-->
</div>
<!-- Plot of Solaranlagen installation history -->
<h2 id="anlagen-sortiert-nach-installationsjahr" tabindex="-1"><a class="observablehq-header-anchor" href="#anlagen-sortiert-nach-installationsjahr">Anlagen sortiert nach Installationsjahr</a></h2>
<div class="observablehq observablehq--block"><!--:107c7972:--></div>
<div class="grid grid-cols-1">
  <div class="card">
    <observablehq-loading></observablehq-loading><!--:a4ce61e4:-->
  </div>
</div>
<h2 id="anzahl-anlagen-nach-postleitzahl" tabindex="-1"><a class="observablehq-header-anchor" href="#anzahl-anlagen-nach-postleitzahl">Anzahl Anlagen nach Postleitzahl</a></h2>
<div class="grid grid-cols-1">
  <div class="card">
    <observablehq-loading></observablehq-loading><!--:5bbcb5f0:-->
  </div>
</div>
<h2 id="betreiber-mit-den-meisten-anlagen-in-muenster" tabindex="-1"><a class="observablehq-header-anchor" href="#betreiber-mit-den-meisten-anlagen-in-muenster">Betreiber mit den meisten Anlagen in Münster</a></h2>
<div class="observablehq observablehq--block"><!--:cfdf0cfb:--></div>
<div class="observablehq observablehq--block"><!--:13a789de:--></div>
<div class="grid grid-cols-1">
  <div class="card">
    <observablehq-loading></observablehq-loading><!--:effc295b:-->
  </div>
</div>
<div class="observablehq observablehq--block"><!--:bb34dc61:--></div>
<h2 id="liste-der-anlagen-der-stadtverwaltung-muenster" tabindex="-1"><a class="observablehq-header-anchor" href="#liste-der-anlagen-der-stadtverwaltung-muenster">Liste der Anlagen der Stadtverwaltung Münster</a></h2>
<div class="grid grid-cols-1">
  <div class="card" style="padding: 0;">
<div class="observablehq observablehq--block"><!--:6f436a42:--></div>
  </div>
</div>
</main>
<footer id="observablehq-footer">
<nav><a rel="prev" href="./"><span>DatenRadar Muenster</span></a><a rel="next" href="./dashboard-postleitzahlen.html"><span>Postleitzahlen Karte</span></a></nav>
<div>Built with <a href="https://observablehq.com/" target="_blank" rel="noopener noreferrer">Observable</a> on <a title="2024-11-22T09:43:48">Nov 22, 2024</a>.</div>
</footer>
</div>
</body>
</html>
